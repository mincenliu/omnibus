<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function combines multiple data frames, possibly with different column names, into a single data frame.  Usually merge will be faster and easier to implement if the columns to be merged on have the same names, and rbind will always be faster and much easier if the column names match exactly."><title>Combine data frames with different fields using a crosswalk table — combineDf • omnibus</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><link href="../deps/Sniglet-0.4.2/font.css" rel="stylesheet"><link href="../deps/Capriola-0.4.2/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Combine data frames with different fields using a crosswalk table — combineDf"><meta property="og:description" content="This function combines multiple data frames, possibly with different column names, into a single data frame.  Usually merge will be faster and easier to implement if the columns to be merged on have the same names, and rbind will always be faster and much easier if the column names match exactly."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">omnibus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/part1c.html">Example analysis</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/adamlilith/omnibus/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Combine data frames with different fields using a crosswalk table</h1>
      <small class="dont-index">Source: <a href="https://github.com/adamlilith/omnibus/blob/HEAD/R/combineDf.r" class="external-link"><code>R/combineDf.r</code></a></small>
      <div class="d-none name"><code>combineDf.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function combines multiple data frames, possibly with different column names, into a single data frame.  Usually <code><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></code> will be faster and easier to implement if the columns to be merged on have the same names, and <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></code> will always be faster and much easier if the column names match exactly.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">combineDf</span><span class="op">(</span></span>
<span>  <span class="va">...</span>,</span>
<span>  <span class="va">crosswalk</span>,</span>
<span>  sep <span class="op">=</span> <span class="st">"; "</span>,</span>
<span>  use <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  classes <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>...</dt>
<dd><p>A list of data frames. If ignored, then paths and file names of data frames can be specified in <code>crosswalk</code>.</p></dd>


<dt>crosswalk</dt>
<dd><p>Data frame. Column names are fields desired in the output data frame. Each row corresponds to a different data frame to join. If <code>...</code> is not used then the first column <em>must</em> have the paths and file names to CSV, RDS, or RData files representing data frames to join. Other than this column, the elements of each cell contain the name of the column in each data frame that coincides with the column name in the <code>crosswalk</code> table.  For example, if the final output is to have a column by the name of "species" and "data frame #1" has a column named "Species" and "data frame #2" has a column named "scientificName", then the first value in <code>crosswalk</code> under its "species" column will be "Species" and the second "scientificName". More complex joining can be done using the following in cells of <code>crosswalk</code>:</p><ul><li><p><code>_</code> at start of value: indicates the value in the <code>crosswalk</code> table will be read as text and repeated in the output in each row (minus the initial "_"). For example, "_inspected" will repeat the string "inspected" in every row of the output corresponding to the respective data frame.</p></li>
<li><p><code>'c(~~~)'</code>: This will paste together fields in source data frame named in ... using the string specified in <code>sep</code> ("~~~" represents column names of the respective data frame). Note that the entire string must be inside a single or double quotes as in <code>'c()'</code> or <code>"c()"</code> and the columns named inside <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> must be delineated by the other kind of quote (single if <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> is delineated by double, and vice versa).</p></li>
<li><p><code>NA</code>: Repeats <code>NA</code>.</p></li>
</ul></dd>


<dt>sep</dt>
<dd><p>Character, specifies the string to put between fields combined with the <code>c(~~~~)</code> format in <code>crosswalk</code>.</p></dd>


<dt>use</dt>
<dd><p>Logical, Character, or <code>NULL</code>, if <code>...</code> is used then this is a list of logical elements (<code>TRUE</code> or <code>FALSE</code>), <em>or</em> a column name of <code>crosswalk</code> with logical values indicating whether or not this particular data frame is to be collated, <code>or</code> <code>NULL</code>, in which case all data frames are used (default).</p></dd>


<dt>classes</dt>
<dd><p>Character or character list, specifies the classes (e.g., numeric, character) to be assigned to each column in the output table. If <code>NULL</code>, all classes will be assumed to be character.  If just one value is listed, all columns will be set to this class. If a list, it must be the same length as the number of columns in <code>crosswalk</code> and specify the class of each column.</p></dd>


<dt>verbose</dt>
<dd><p>Logical, if <code>TRUE</code> prints extra information during execution.  Useful for debugging the <code>crosswalk</code> table.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A data frame.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></code>, <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">df1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x1<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, x2<span class="op">=</span><span class="st">'valid'</span>, x3<span class="op">=</span><span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>, x4<span class="op">=</span><span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>, x5<span class="op">=</span><span class="st">'stuff'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>y1<span class="op">=</span><span class="fl">11</span><span class="op">:</span><span class="fl">15</span>, y3<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="va">letters</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">crosswalk</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  a<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'x1'</span>, <span class="st">'y1'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  b<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'x2'</span>, <span class="st">'_valid'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  c<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'c("x3", "x4")'</span>, <span class="st">'y3'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  d<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'x5'</span>, <span class="cn">NA</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">combineDf</span><span class="op">(</span><span class="va">df1</span>, <span class="va">df2</span>, crosswalk<span class="op">=</span><span class="va">crosswalk</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     a     b    c     d</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1 valid a; A stuff</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   2 valid b; B stuff</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   3 valid c; C stuff</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   4 valid d; D stuff</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   5 valid e; E stuff</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  11 valid    z  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  12 valid    y  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  13 valid    x  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  14 valid    w  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 15 valid    v  &lt;NA&gt;</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Adam B. Smith, Mincen Liu.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

